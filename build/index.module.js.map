{"version":3,"file":"index.module.js","sources":["../node_modules/classnames/index.js","../src/components/cselect.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/scselect.js"],"sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport cx from \"classnames\";\r\n\r\nvar select_counter = 0;\r\n\r\nclass Select extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.id = `sitselect${++select_counter}`;\r\n  }\r\n  changeHandler = e => {\r\n    var oldValue = this.state.value;\r\n    var newValue = this.props.readOnly ? oldValue : e.target.value;\r\n    if (this.props.onChange !== undefined && oldValue !== newValue) {\r\n      const oldIndex = this.getIndexByValue(oldValue);\r\n      const newIndex = this.getIndexByValue(newValue);\r\n      const oldItem = this.props.options[oldIndex] || null;\r\n      const newItem = this.props.options[newIndex] || null;\r\n      this.props.onChange({ target: this, oldValue, oldIndex, oldItem, newValue, newIndex, newItem });\r\n    }\r\n  };\r\n  static getDerivedStateFromProps(props, prevstate) {\r\n    const newstate = {};\r\n    if (props.value !== undefined && (props.value !== prevstate.value || props.options !== prevstate.options)) {\r\n      var index = -1;\r\n      for (var i = 0; i < props.options.length; i++) {\r\n        if (props.options[i][props.valueField] === props.value) {\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n      newstate.value = props.value;\r\n      newstate.selectedIndex = index;\r\n    }\r\n    return newstate;\r\n  }\r\n  render() {\r\n    var { id, options, defaultValue, value, className, labelField, valueField, onChange, style, width, ss, ...newprops } = this.props;\r\n    style = { width, ...style };\r\n    return (\r\n      <select id={id || this.id} className={cx(ss.sitcontrol, className)} value={this.state.value} style={style} onChange={this.changeHandler} {...newprops}>\r\n        {this.state.selectedIndex === -1 && <option value={this.state.value} />}\r\n        {options.map((o, i) => (\r\n          <option value={o[this.props.valueField]} key={i}>\r\n            {o[this.props.labelField]}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    );\r\n  }\r\n  getIndexByValue = value => {\r\n    var index = -1;\r\n    for (var i = 0; i < this.props.options.length; i++) {\r\n      if (this.props.options[i][this.props.valueField] === value) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n    return index;\r\n  };\r\n}\r\n\r\nSelect.defaultProps = {\r\n  readOnly: false,\r\n  disabled: false,\r\n  labelField: \"label\",\r\n  valueField: \"value\",\r\n  onChange: () => {},\r\n  style: {},\r\n  options: [],\r\n  ss: {}\r\n};\r\nSelect.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  readOnly: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  labelField: PropTypes.string,\r\n  valueField: PropTypes.string,\r\n  style: PropTypes.object,\r\n  ss: PropTypes.object\r\n};\r\n\r\nexport default Select;\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\r\nimport CSelect from \"./cselect\";\r\nimport s from \"./../css/sitcontrol.scss\";\r\n\r\nexport default function Select(props) {\r\n  return <CSelect ss={s} {...props} />;\r\n}\r\n"],"names":["select_counter","Select","props","e","oldValue","state","value","newValue","readOnly","target","onChange","undefined","oldIndex","getIndexByValue","newIndex","oldItem","options","newItem","index","i","length","valueField","id","defaultValue","className","labelField","style","width","ss","newprops","cx","sitcontrol","changeHandler","selectedIndex","map","o","prevstate","newstate","React","Component","defaultProps","disabled","propTypes","PropTypes","string","isRequired","func","bool","object","CSelect","s"],"mappings":"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"}