{"version":3,"file":"index.js","sources":["../node_modules/classnames/index.js","../src/components/cselect.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/scselect.js"],"sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport cx from \"classnames\";\r\n\r\nvar select_counter = 0;\r\n\r\nclass Select extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.id = `sitselect${++select_counter}`;\r\n  }\r\n  changeHandler = e => {\r\n    var oldValue = this.state.value;\r\n    var newValue = this.props.readOnly ? oldValue : e.target.value;\r\n    if (this.props.onChange !== undefined && oldValue !== newValue) {\r\n      const oldIndex = this.getIndexByValue(oldValue);\r\n      const newIndex = this.getIndexByValue(newValue);\r\n      const oldItem = this.props.options[oldIndex] || null;\r\n      const newItem = this.props.options[newIndex] || null;\r\n      this.props.onChange({ target: this, oldValue, oldIndex, oldItem, newValue, newIndex, newItem });\r\n    }\r\n  };\r\n  static getDerivedStateFromProps(props, prevstate) {\r\n    const newstate = {};\r\n    if (props.value !== undefined && (props.value !== prevstate.value || props.options !== prevstate.options)) {\r\n      var index = -1;\r\n      for (var i = 0; i < props.options.length; i++) {\r\n        if (props.options[i][props.valueField] === props.value) {\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n      newstate.value = props.value;\r\n      newstate.selectedIndex = index;\r\n    }\r\n    return newstate;\r\n  }\r\n  render() {\r\n    var { id, options, defaultValue, value, className, labelField, valueField, onChange, style, width, ss, ...newprops } = this.props;\r\n    style = { width, ...style };\r\n    return (\r\n      <select id={id || this.id} className={cx(ss.sitcontrol, className)} value={this.state.value} style={style} onChange={this.changeHandler} {...newprops}>\r\n        {this.state.selectedIndex === -1 && <option value={this.state.value} />}\r\n        {options.map((o, i) => (\r\n          <option value={o[this.props.valueField]} key={i}>\r\n            {o[this.props.labelField]}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    );\r\n  }\r\n  getIndexByValue = value => {\r\n    var index = -1;\r\n    for (var i = 0; i < this.props.options.length; i++) {\r\n      if (this.props.options[i][this.props.valueField] === value) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n    return index;\r\n  };\r\n}\r\n\r\nSelect.defaultProps = {\r\n  readOnly: false,\r\n  disabled: false,\r\n  labelField: \"label\",\r\n  valueField: \"value\",\r\n  onChange: () => {},\r\n  style: {},\r\n  options: [],\r\n  ss: {}\r\n};\r\nSelect.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  readOnly: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  labelField: PropTypes.string,\r\n  valueField: PropTypes.string,\r\n  style: PropTypes.object,\r\n  ss: PropTypes.object\r\n};\r\n\r\nexport default Select;\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\r\nimport CSelect from \"./cselect\";\r\nimport s from \"./../css/sitcontrol.scss\";\r\n\r\nexport default function Select(props) {\r\n  return <CSelect ss={s} {...props} />;\r\n}\r\n"],"names":["select_counter","Select","props","e","oldValue","state","value","newValue","readOnly","target","onChange","undefined","oldIndex","getIndexByValue","newIndex","oldItem","options","newItem","index","i","length","valueField","id","defaultValue","className","labelField","style","width","ss","newprops","cx","sitcontrol","changeHandler","selectedIndex","map","o","prevstate","newstate","React","Component","defaultProps","disabled","propTypes","PropTypes","string","isRequired","func","bool","object","CSelect","s"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;;;;;;;EAOA,CAAC,YAAY;;GAGZ,IAAI,MAAM,GAAG,EAAE,CAAC,cAAc,CAAC;;GAE/B,SAAS,UAAU,IAAI;IACtB,IAAI,OAAO,GAAG,EAAE,CAAC;;IAEjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;KAC1C,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;KACvB,IAAI,CAAC,GAAG,EAAE,SAAS;;KAEnB,IAAI,OAAO,GAAG,OAAO,GAAG,CAAC;;KAEzB,IAAI,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,QAAQ,EAAE;MACjD,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;MAClB,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,EAAE;MAC5C,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;MACxC,IAAI,KAAK,EAAE;OACV,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;OACpB;MACD,MAAM,IAAI,OAAO,KAAK,QAAQ,EAAE;MAChC,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;OACpB,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;QACtC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAClB;OACD;MACD;KACD;;IAED,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzB;;GAED,IAAI,AAAiC,MAAM,CAAC,OAAO,EAAE;IACpD,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC;IAChC,cAAc,GAAG,UAAU,CAAC;IAC5B,MAAM,AAKA;IACN,MAAM,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B;GACD,EAAE,EAAE;;;EC/CL,IAAIA,cAAc,GAAG,CAArB;;MAEMC;;;;;EACJ,kBAAYC,KAAZ,EAAmB;EAAA;;EAAA;;EACjB,gFAAMA,KAAN;;EADiB,4FAKH,UAAAC,CAAC,EAAI;EACnB,UAAIC,QAAQ,GAAG,MAAKC,KAAL,CAAWC,KAA1B;EACA,UAAIC,QAAQ,GAAG,MAAKL,KAAL,CAAWM,QAAX,GAAsBJ,QAAtB,GAAiCD,CAAC,CAACM,MAAF,CAASH,KAAzD;;EACA,UAAI,MAAKJ,KAAL,CAAWQ,QAAX,KAAwBC,SAAxB,IAAqCP,QAAQ,KAAKG,QAAtD,EAAgE;EAC9D,YAAMK,QAAQ,GAAG,MAAKC,eAAL,CAAqBT,QAArB,CAAjB;;EACA,YAAMU,QAAQ,GAAG,MAAKD,eAAL,CAAqBN,QAArB,CAAjB;;EACA,YAAMQ,OAAO,GAAG,MAAKb,KAAL,CAAWc,OAAX,CAAmBJ,QAAnB,KAAgC,IAAhD;EACA,YAAMK,OAAO,GAAG,MAAKf,KAAL,CAAWc,OAAX,CAAmBF,QAAnB,KAAgC,IAAhD;;EACA,cAAKZ,KAAL,CAAWQ,QAAX,CAAoB;EAAED,UAAAA,MAAM,uDAAR;EAAgBL,UAAAA,QAAQ,EAARA,QAAhB;EAA0BQ,UAAAA,QAAQ,EAARA,QAA1B;EAAoCG,UAAAA,OAAO,EAAPA,OAApC;EAA6CR,UAAAA,QAAQ,EAARA,QAA7C;EAAuDO,UAAAA,QAAQ,EAARA,QAAvD;EAAiEG,UAAAA,OAAO,EAAPA;EAAjE,SAApB;EACD;EACF,KAfkB;;EAAA,8FA6CD,UAAAX,KAAK,EAAI;EACzB,UAAIY,KAAK,GAAG,CAAC,CAAb;;EACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAKjB,KAAL,CAAWc,OAAX,CAAmBI,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;EAClD,YAAI,MAAKjB,KAAL,CAAWc,OAAX,CAAmBG,CAAnB,EAAsB,MAAKjB,KAAL,CAAWmB,UAAjC,MAAiDf,KAArD,EAA4D;EAC1DY,UAAAA,KAAK,GAAGC,CAAR;EACA;EACD;EACF;;EACD,aAAOD,KAAP;EACD,KAtDkB;;EAEjB,UAAKb,KAAL,GAAa,EAAb;EACA,UAAKiB,EAAL,sBAAsB,EAAEtB,cAAxB;EAHiB;EAIlB;;;;+BA2BQ;EAAA;;EAAA,wBACgH,KAAKE,KADrH;EAAA,UACDoB,EADC,eACDA,EADC;EAAA,UACGN,OADH,eACGA,OADH;EAAA,UACYO,YADZ,eACYA,YADZ;EAAA,UAC0BjB,KAD1B,eAC0BA,KAD1B;EAAA,UACiCkB,SADjC,eACiCA,SADjC;EAAA,UAC4CC,UAD5C,eAC4CA,UAD5C;EAAA,UACwDJ,UADxD,eACwDA,UADxD;EAAA,UACoEX,QADpE,eACoEA,QADpE;EAAA,UAC8EgB,KAD9E,eAC8EA,KAD9E;EAAA,UACqFC,KADrF,eACqFA,KADrF;EAAA,UAC4FC,EAD5F,eAC4FA,EAD5F;EAAA,UACmGC,QADnG;;EAEPH,MAAAA,KAAK;EAAKC,QAAAA,KAAK,EAALA;EAAL,SAAeD,KAAf,CAAL;EACA,aACE;EAAQ,QAAA,EAAE,EAAEJ,EAAE,IAAI,KAAKA,EAAvB;EAA2B,QAAA,SAAS,EAAEQ,UAAE,CAACF,EAAE,CAACG,UAAJ,EAAgBP,SAAhB,CAAxC;EAAoE,QAAA,KAAK,EAAE,KAAKnB,KAAL,CAAWC,KAAtF;EAA6F,QAAA,KAAK,EAAEoB,KAApG;EAA2G,QAAA,QAAQ,EAAE,KAAKM;EAA1H,SAA6IH,QAA7I,GACG,KAAKxB,KAAL,CAAW4B,aAAX,KAA6B,CAAC,CAA9B,IAAmC;EAAQ,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWC;EAA1B,QADtC,EAEGU,OAAO,CAACkB,GAAR,CAAY,UAACC,CAAD,EAAIhB,CAAJ;EAAA,eACX;EAAQ,UAAA,KAAK,EAAEgB,CAAC,CAAC,MAAI,CAACjC,KAAL,CAAWmB,UAAZ,CAAhB;EAAyC,UAAA,GAAG,EAAEF;EAA9C,WACGgB,CAAC,CAAC,MAAI,CAACjC,KAAL,CAAWuB,UAAZ,CADJ,CADW;EAAA,OAAZ,CAFH,CADF;EAUD;;;+CA5B+BvB,OAAOkC,WAAW;EAChD,UAAMC,QAAQ,GAAG,EAAjB;;EACA,UAAInC,KAAK,CAACI,KAAN,KAAgBK,SAAhB,KAA8BT,KAAK,CAACI,KAAN,KAAgB8B,SAAS,CAAC9B,KAA1B,IAAmCJ,KAAK,CAACc,OAAN,KAAkBoB,SAAS,CAACpB,OAA7F,CAAJ,EAA2G;EACzG,YAAIE,KAAK,GAAG,CAAC,CAAb;;EACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,KAAK,CAACc,OAAN,CAAcI,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;EAC7C,cAAIjB,KAAK,CAACc,OAAN,CAAcG,CAAd,EAAiBjB,KAAK,CAACmB,UAAvB,MAAuCnB,KAAK,CAACI,KAAjD,EAAwD;EACtDY,YAAAA,KAAK,GAAGC,CAAR;EACA;EACD;EACF;;EACDkB,QAAAA,QAAQ,CAAC/B,KAAT,GAAiBJ,KAAK,CAACI,KAAvB;EACA+B,QAAAA,QAAQ,CAACJ,aAAT,GAAyBf,KAAzB;EACD;;EACD,aAAOmB,QAAP;EACD;;;;IA/BkBC,KAAK,CAACC;;EA0D3BtC,MAAM,CAACuC,YAAP,GAAsB;EACpBhC,EAAAA,QAAQ,EAAE,KADU;EAEpBiC,EAAAA,QAAQ,EAAE,KAFU;EAGpBhB,EAAAA,UAAU,EAAE,OAHQ;EAIpBJ,EAAAA,UAAU,EAAE,OAJQ;EAKpBX,EAAAA,QAAQ,EAAE,oBAAM,EALI;EAMpBgB,EAAAA,KAAK,EAAE,EANa;EAOpBV,EAAAA,OAAO,EAAE,EAPW;EAQpBY,EAAAA,EAAE,EAAE;EARgB,CAAtB;EAUA3B,MAAM,CAACyC,SAAP,GAAmB;EACjBpC,EAAAA,KAAK,EAAEqC,SAAS,CAACC,MAAV,CAAiBC,UADP;EAEjBnC,EAAAA,QAAQ,EAAEiC,SAAS,CAACG,IAAV,CAAeD,UAFR;EAGjBrC,EAAAA,QAAQ,EAAEmC,SAAS,CAACI,IAHH;EAIjBN,EAAAA,QAAQ,EAAEE,SAAS,CAACI,IAJH;EAKjBtB,EAAAA,UAAU,EAAEkB,SAAS,CAACC,MALL;EAMjBvB,EAAAA,UAAU,EAAEsB,SAAS,CAACC,MANL;EAOjBlB,EAAAA,KAAK,EAAEiB,SAAS,CAACK,MAPA;EAQjBpB,EAAAA,EAAE,EAAEe,SAAS,CAACK;EARG,CAAnB;;EC1EA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC/B,EAAE,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EACjC,EAAE,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE9B,EAAE,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAE1D,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACvE,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC9C,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAE1B,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;EAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;EACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;EAChD,KAAK,MAAM;EACX,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EAC9B,KAAK;EACL,GAAG,MAAM;EACT,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;EAC5B,GAAG;;EAEH,EAAE,IAAI,KAAK,CAAC,UAAU,EAAE;EACxB,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;EACnC,GAAG,MAAM;EACT,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;EACpD,GAAG;EACH,CAAC;;;;;;ECrBc,SAAS/C,QAAT,CAAgBC,KAAhB,EAAuB;EACpC,SAAO,oBAAC+C,MAAD;EAAS,IAAA,EAAE,EAAEC;EAAb,KAAoBhD,KAApB,EAAP;EACD;;;;;;;;;;;;;"}